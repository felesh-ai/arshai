<!doctype html>
<html class="no-js" lang="en" data-content_root="../../">
  <head><meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="index" title="Index" href="../../genindex.html"><link rel="search" title="Search" href="../../search.html"><link rel="next" title="OpenAI Client" href="openai-client.html"><link rel="prev" title="LLM Clients (Layer 1)" href="index.html">

    <!-- Generated with Sphinx 8.2.3 and Furo 2025.09.25 -->
        <title>ILLM Interface Overview - Arshai Documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=d111a655" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/furo.css?v=580074bf" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/furo-extensions.css?v=8dab3a3b" />
    
    


<style>
  body {
    --color-code-background: #f2f2f2;
  --color-code-foreground: #1e1e1e;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-with-moon" viewBox="0 0 24 24">
    <title>Auto light/dark, in light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path style="opacity: 50%" d="M 5.411 14.504 C 5.471 14.504 5.532 14.504 5.591 14.504 C 3.639 16.319 4.383 19.569 6.931 20.352 C 7.693 20.586 8.512 20.551 9.25 20.252 C 8.023 23.207 4.056 23.725 2.11 21.184 C 0.166 18.642 1.702 14.949 4.874 14.536 C 5.051 14.512 5.231 14.5 5.411 14.5 L 5.411 14.504 Z"/>
      <line x1="14.5" y1="3.25" x2="14.5" y2="1.25"/>
      <line x1="14.5" y1="15.85" x2="14.5" y2="17.85"/>
      <line x1="10.044" y1="5.094" x2="8.63" y2="3.68"/>
      <line x1="19" y1="14.05" x2="20.414" y2="15.464"/>
      <line x1="8.2" y1="9.55" x2="6.2" y2="9.55"/>
      <line x1="20.8" y1="9.55" x2="22.8" y2="9.55"/>
      <line x1="10.044" y1="14.006" x2="8.63" y2="15.42"/>
      <line x1="19" y1="5.05" x2="20.414" y2="3.636"/>
      <circle cx="14.5" cy="9.55" r="3.6"/>
    </svg>
  </symbol>
  <symbol id="svg-moon-with-sun" viewBox="0 0 24 24">
    <title>Auto light/dark, in dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path d="M 8.282 7.007 C 8.385 7.007 8.494 7.007 8.595 7.007 C 5.18 10.184 6.481 15.869 10.942 17.24 C 12.275 17.648 13.706 17.589 15 17.066 C 12.851 22.236 5.91 23.143 2.505 18.696 C -0.897 14.249 1.791 7.786 7.342 7.063 C 7.652 7.021 7.965 7 8.282 7 L 8.282 7.007 Z"/>
      <line style="opacity: 50%" x1="18" y1="3.705" x2="18" y2="2.5"/>
      <line style="opacity: 50%" x1="18" y1="11.295" x2="18" y2="12.5"/>
      <line style="opacity: 50%" x1="15.316" y1="4.816" x2="14.464" y2="3.964"/>
      <line style="opacity: 50%" x1="20.711" y1="10.212" x2="21.563" y2="11.063"/>
      <line style="opacity: 50%" x1="14.205" y1="7.5" x2="13.001" y2="7.5"/>
      <line style="opacity: 50%" x1="21.795" y1="7.5" x2="23" y2="7.5"/>
      <line style="opacity: 50%" x1="15.316" y1="10.184" x2="14.464" y2="11.036"/>
      <line style="opacity: 50%" x1="20.711" y1="4.789" x2="21.563" y2="3.937"/>
      <circle style="opacity: 50%" cx="18" cy="7.5" r="2.169"/>
    </svg>
  </symbol>
  <symbol id="svg-pencil" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-pencil-code">
      <path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4" />
      <path d="M13.5 6.5l4 4" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
  <symbol id="svg-eye" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-eye-code">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" />
      <path
        d="M11.11 17.958c-3.209 -.307 -5.91 -2.293 -8.11 -5.958c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6c-.21 .352 -.427 .688 -.647 1.008" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle site navigation sidebar">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc" aria-label="Toggle table of contents sidebar">
<label class="overlay sidebar-overlay" for="__navigation"></label>
<label class="overlay toc-overlay" for="__toc"></label>

<a class="skip-to-content muted-link" href="#furo-main-content">Skip to content</a>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <span class="icon"><svg><use href="#svg-menu"></use></svg></span>
      </label>
    </div>
    <div class="header-center">
      <a href="../../index.html"><div class="brand">Arshai Documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle" aria-label="Toggle Light / Dark / Auto color theme">
          <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
          <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <span class="icon"><svg><use href="#svg-toc"></use></svg></span>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../../index.html">
  
  <span class="sidebar-brand-text">Arshai Documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="../../search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../getting-started/index.html">Getting Started</a><input aria-label="Toggle navigation of Getting Started" class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../getting-started/installation.html">Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../getting-started/quickstart.html">Quickstart Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../getting-started/comprehensive-guide.html">Comprehensive Agent Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../getting-started/first-agent.html">Build Your First Custom Agent</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../getting-started/quickstart.html">Quickstart Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../getting-started/comprehensive-guide.html">Comprehensive Agent Guide</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Philosophy</span></p>
<ul>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../philosophy/index.html">Philosophy</a><input aria-label="Toggle navigation of Philosophy" class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../philosophy/introduction.html">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../philosophy/three-layer-architecture.html">Three-Layer Architecture</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../philosophy/developer-authority.html">Developer Authority</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../philosophy/design-decisions.html">Design Decisions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../philosophy/introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../philosophy/three-layer-architecture.html">Three-Layer Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../philosophy/developer-authority.html">Developer Authority</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../philosophy/design-decisions.html">Design Decisions</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Framework (Core)</span></p>
<ul class="current">
<li class="toctree-l1 current has-children"><a class="reference internal" href="../index.html">Framework Core</a><input aria-label="Toggle navigation of Framework Core" checked="" class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul class="current">
<li class="toctree-l2 current has-children"><a class="reference internal" href="index.html">LLM Clients (Layer 1)</a><input aria-label="Toggle navigation of LLM Clients (Layer 1)" checked="" class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">ILLM Interface Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="openai-client.html">OpenAI Client</a></li>
<li class="toctree-l3"><a class="reference internal" href="azure-client.html">Azure OpenAI Client</a></li>
<li class="toctree-l3"><a class="reference internal" href="google-gemini-client.html">Google Gemini Client</a></li>
<li class="toctree-l3"><a class="reference internal" href="openrouter-client.html">OpenRouter Client</a></li>
<li class="toctree-l3"><a class="reference internal" href="extending-llm-clients.html">Extending LLM Clients</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../agents/index.html">Agents (Layer 2)</a><input aria-label="Toggle navigation of Agents (Layer 2)" class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" role="switch" type="checkbox"/><label for="toctree-checkbox-5"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../agents/base-agent.html">BaseAgent Class</a></li>
<li class="toctree-l3"><a class="reference internal" href="../agents/creating-agents.html">Creating Agents</a></li>
<li class="toctree-l3"><a class="reference internal" href="../agents/tools-and-callables.html">Tools and Callables</a></li>
<li class="toctree-l3"><a class="reference internal" href="../agents/agent-patterns.html">Agent Patterns</a></li>
<li class="toctree-l3"><a class="reference internal" href="../agents/stateless-design.html">Stateless Agent Design</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../agents/examples/index.html">Agent Examples</a><input aria-label="Toggle navigation of Agent Examples" class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" role="switch" type="checkbox"/><label for="toctree-checkbox-6"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../agents/examples/01-basic-usage.html">Example 01: Basic Agent Usage</a></li>
<li class="toctree-l4"><a class="reference internal" href="../agents/examples/02-custom-agents.html">Example 02: Creating Custom Agents</a></li>
<li class="toctree-l4"><a class="reference internal" href="../agents/examples/03-memory-patterns.html">Example 3: Memory Patterns</a></li>
<li class="toctree-l4"><a class="reference internal" href="../agents/examples/04-tool-integration.html">Example 4: Tool Integration</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../implementations/agents/index.html">Agent Reference Implementations</a><input aria-label="Toggle navigation of Agent Reference Implementations" class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" role="switch" type="checkbox"/><label for="toctree-checkbox-7"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../implementations/agents/working-memory-agent.html">WorkingMemoryAgent Reference Implementation</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../building-systems/index.html">Building Systems (Layer 3)</a><input aria-label="Toggle navigation of Building Systems (Layer 3)" class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" role="switch" type="checkbox"/><label for="toctree-checkbox-8"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../building-systems/composition-patterns.html">Example 5: Agent Composition</a></li>
<li class="toctree-l3"><a class="reference internal" href="../building-systems/building-agentic-systems.html">Building Agentic Systems</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 current has-children"><a class="reference internal" href="index.html">LLM Clients (Layer 1)</a><input aria-label="Toggle navigation of LLM Clients (Layer 1)" checked="" class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" role="switch" type="checkbox"/><label for="toctree-checkbox-9"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul class="current">
<li class="toctree-l2 current current-page"><a class="current reference internal" href="#">ILLM Interface Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="openai-client.html">OpenAI Client</a></li>
<li class="toctree-l2"><a class="reference internal" href="azure-client.html">Azure OpenAI Client</a></li>
<li class="toctree-l2"><a class="reference internal" href="google-gemini-client.html">Google Gemini Client</a></li>
<li class="toctree-l2"><a class="reference internal" href="openrouter-client.html">OpenRouter Client</a></li>
<li class="toctree-l2"><a class="reference internal" href="extending-llm-clients.html">Extending LLM Clients</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../agents/index.html">Agents (Layer 2)</a><input aria-label="Toggle navigation of Agents (Layer 2)" class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" role="switch" type="checkbox"/><label for="toctree-checkbox-10"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../agents/base-agent.html">BaseAgent Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="../agents/creating-agents.html">Creating Agents</a></li>
<li class="toctree-l2"><a class="reference internal" href="../agents/tools-and-callables.html">Tools and Callables</a></li>
<li class="toctree-l2"><a class="reference internal" href="../agents/agent-patterns.html">Agent Patterns</a></li>
<li class="toctree-l2"><a class="reference internal" href="../agents/stateless-design.html">Stateless Agent Design</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../agents/examples/index.html">Agent Examples</a><input aria-label="Toggle navigation of Agent Examples" class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" role="switch" type="checkbox"/><label for="toctree-checkbox-11"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../agents/examples/01-basic-usage.html">Example 01: Basic Agent Usage</a></li>
<li class="toctree-l3"><a class="reference internal" href="../agents/examples/02-custom-agents.html">Example 02: Creating Custom Agents</a></li>
<li class="toctree-l3"><a class="reference internal" href="../agents/examples/03-memory-patterns.html">Example 3: Memory Patterns</a></li>
<li class="toctree-l3"><a class="reference internal" href="../agents/examples/04-tool-integration.html">Example 4: Tool Integration</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../implementations/agents/index.html">Agent Reference Implementations</a><input aria-label="Toggle navigation of Agent Reference Implementations" class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" role="switch" type="checkbox"/><label for="toctree-checkbox-12"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../implementations/agents/working-memory-agent.html">WorkingMemoryAgent Reference Implementation</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../building-systems/index.html">Building Systems (Layer 3)</a><input aria-label="Toggle navigation of Building Systems (Layer 3)" class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" role="switch" type="checkbox"/><label for="toctree-checkbox-13"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../building-systems/composition-patterns.html">Example 5: Agent Composition</a></li>
<li class="toctree-l2"><a class="reference internal" href="../building-systems/building-agentic-systems.html">Building Agentic Systems</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Implementations (Reference)</span></p>
<ul>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../implementations/index.html">Reference Implementations</a><input aria-label="Toggle navigation of Reference Implementations" class="toctree-checkbox" id="toctree-checkbox-14" name="toctree-checkbox-14" role="switch" type="checkbox"/><label for="toctree-checkbox-14"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../implementations/agents/index.html">Agent Reference Implementations</a><input aria-label="Toggle navigation of Agent Reference Implementations" class="toctree-checkbox" id="toctree-checkbox-15" name="toctree-checkbox-15" role="switch" type="checkbox"/><label for="toctree-checkbox-15"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../implementations/agents/working-memory-agent.html">WorkingMemoryAgent Reference Implementation</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../implementations/orchestration/index.html">Orchestration Reference Implementations</a><input aria-label="Toggle navigation of Orchestration Reference Implementations" class="toctree-checkbox" id="toctree-checkbox-16" name="toctree-checkbox-16" role="switch" type="checkbox"/><label for="toctree-checkbox-16"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../implementations/orchestration/workflow-system.html">Workflow System</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../implementations/orchestration/building-your-own.html">Building Your Own Orchestration</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../implementations/memory/index.html">Memory Reference Implementations</a><input aria-label="Toggle navigation of Memory Reference Implementations" class="toctree-checkbox" id="toctree-checkbox-17" name="toctree-checkbox-17" role="switch" type="checkbox"/><label for="toctree-checkbox-17"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../implementations/memory/in-memory.html">In-Memory Manager</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../implementations/memory/redis-memory.html">Redis Memory Manager</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../implementations/components/index.html">Component Reference Implementations</a><input aria-label="Toggle navigation of Component Reference Implementations" class="toctree-checkbox" id="toctree-checkbox-18" name="toctree-checkbox-18" role="switch" type="checkbox"/><label for="toctree-checkbox-18"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../implementations/components/embeddings.html">Embedding Implementations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../implementations/components/vector-databases.html">Vector Database - Milvus Client</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../implementations/agents/index.html">Agent Reference Implementations</a><input aria-label="Toggle navigation of Agent Reference Implementations" class="toctree-checkbox" id="toctree-checkbox-19" name="toctree-checkbox-19" role="switch" type="checkbox"/><label for="toctree-checkbox-19"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../implementations/agents/working-memory-agent.html">WorkingMemoryAgent Reference Implementation</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../implementations/orchestration/index.html">Orchestration Reference Implementations</a><input aria-label="Toggle navigation of Orchestration Reference Implementations" class="toctree-checkbox" id="toctree-checkbox-20" name="toctree-checkbox-20" role="switch" type="checkbox"/><label for="toctree-checkbox-20"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../implementations/orchestration/workflow-system.html">Workflow System</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../implementations/orchestration/building-your-own.html">Building Your Own Orchestration</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../implementations/memory/index.html">Memory Reference Implementations</a><input aria-label="Toggle navigation of Memory Reference Implementations" class="toctree-checkbox" id="toctree-checkbox-21" name="toctree-checkbox-21" role="switch" type="checkbox"/><label for="toctree-checkbox-21"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../implementations/memory/in-memory.html">In-Memory Manager</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../implementations/memory/redis-memory.html">Redis Memory Manager</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../implementations/components/index.html">Component Reference Implementations</a><input aria-label="Toggle navigation of Component Reference Implementations" class="toctree-checkbox" id="toctree-checkbox-22" name="toctree-checkbox-22" role="switch" type="checkbox"/><label for="toctree-checkbox-22"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../implementations/components/embeddings.html">Embedding Implementations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../implementations/components/vector-databases.html">Vector Database - Milvus Client</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Tutorials</span></p>
<ul>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../tutorials/index.html">Tutorials</a><input aria-label="Toggle navigation of Tutorials" class="toctree-checkbox" id="toctree-checkbox-23" name="toctree-checkbox-23" role="switch" type="checkbox"/><label for="toctree-checkbox-23"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../tutorials/simple-chatbot.html">Building a Simple Chatbot</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tutorials/rag-system.html">Building a RAG System</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tutorials/custom-system.html">Building a Custom Agentic System</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">API Reference</span></p>
<ul>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../reference/index.html">API Reference</a><input aria-label="Toggle navigation of API Reference" class="toctree-checkbox" id="toctree-checkbox-24" name="toctree-checkbox-24" role="switch" type="checkbox"/><label for="toctree-checkbox-24"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../reference/interfaces.html">Interfaces</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../reference/base-classes.html">Base Classes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../reference/models.html">Models</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Extending</span></p>
<ul>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../extending/index.html">Extending Arshai</a><input aria-label="Toggle navigation of Extending Arshai" class="toctree-checkbox" id="toctree-checkbox-25" name="toctree-checkbox-25" role="switch" type="checkbox"/><label for="toctree-checkbox-25"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../extending/custom-agents.html">Building Custom Agents</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../extending/custom-llm-clients.html">Adding LLM Providers</a></li>
</ul>
</li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="view-this-page">
  <a class="muted-link" href="https://github.com/nimunzn/arshai/blob/main/docs_sphinx/framework/llm-clients/interface-overview.rst?plain=true" title="View this page">
    <svg><use href="#svg-eye"></use></svg>
    <span class="visually-hidden">View this page</span>
  </a>
</div><div class="edit-this-page">
  <a class="muted-link" href="https://github.com/nimunzn/arshai/edit/main/docs_sphinx/framework/llm-clients/interface-overview.rst" rel="edit" title="Edit this page">
    <svg><use href="#svg-pencil"></use></svg>
    <span class="visually-hidden">Edit this page</span>
  </a>
</div><div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle" aria-label="Toggle Light / Dark / Auto color theme">
              <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
              <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <span class="icon"><svg><use href="#svg-toc"></use></svg></span>
          </label>
        </div>
        <article role="main" id="furo-main-content">
          <section id="illm-interface-overview">
<h1>ILLM Interface Overview<a class="headerlink" href="#illm-interface-overview" title="Link to this heading">¶</a></h1>
<p>The <code class="docutils literal notranslate"><span class="pre">ILLM</span></code> interface defines the contract that all LLM clients must implement. This interface ensures consistent behavior across different language model providers while supporting advanced features like function calling, streaming, and structured output.</p>
<section id="interface-definition">
<h2>Interface Definition<a class="headerlink" href="#interface-definition" title="Link to this heading">¶</a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">typing</span><span class="w"> </span><span class="kn">import</span> <span class="n">Protocol</span><span class="p">,</span> <span class="n">Dict</span><span class="p">,</span> <span class="n">Any</span><span class="p">,</span> <span class="n">AsyncGenerator</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">arshai.core.interfaces.illm</span><span class="w"> </span><span class="kn">import</span> <span class="n">ILLMInput</span>

<span class="k">class</span><span class="w"> </span><span class="nc">ILLM</span><span class="p">(</span><span class="n">Protocol</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Protocol defining the LLM client interface.&quot;&quot;&quot;</span>

    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">chat</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">input</span><span class="p">:</span> <span class="n">ILLMInput</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Single-turn conversation returning complete response.&quot;&quot;&quot;</span>
        <span class="o">...</span>

    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">stream</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">input</span><span class="p">:</span> <span class="n">ILLMInput</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AsyncGenerator</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="kc">None</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Streaming conversation yielding response chunks.&quot;&quot;&quot;</span>
        <span class="o">...</span>
</pre></div>
</div>
</section>
<section id="input-structure">
<h2>Input Structure<a class="headerlink" href="#input-structure" title="Link to this heading">¶</a></h2>
<p>All LLM operations use <code class="docutils literal notranslate"><span class="pre">ILLMInput</span></code> to define the request:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">ILLMInput</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Input data for LLM operations.&quot;&quot;&quot;</span>

    <span class="n">system_prompt</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">user_message</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">regular_functions</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Callable</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="n">background_tasks</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Callable</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="n">structure_type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Type</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">max_turns</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">5</span>
    <span class="n">conversation_history</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[]</span>
</pre></div>
</div>
<p>Field Details:</p>
<dl class="simple">
<dt><strong>system_prompt</strong></dt><dd><p>Instructions that define the AI’s behavior, role, and constraints. This sets the context for the entire conversation.</p>
</dd>
<dt><strong>user_message</strong></dt><dd><p>The actual user input or query that the AI should respond to.</p>
</dd>
<dt><strong>regular_functions</strong></dt><dd><p>Dictionary of Python functions the LLM can call during processing. Results are returned to the conversation for further processing.</p>
</dd>
<dt><strong>background_tasks</strong></dt><dd><p>Dictionary of functions that run in fire-and-forget mode. These execute independently and don’t return results to the conversation.</p>
</dd>
<dt><strong>structure_type</strong></dt><dd><p>Pydantic model class for structured output. When provided, the LLM will return a structured response matching the model schema.</p>
</dd>
<dt><strong>max_turns</strong></dt><dd><p>Maximum number of conversation turns for function calling scenarios. Prevents infinite loops.</p>
</dd>
<dt><strong>conversation_history</strong></dt><dd><p>Optional conversation context for multi-turn interactions.</p>
</dd>
</dl>
</section>
<section id="response-structure">
<h2>Response Structure<a class="headerlink" href="#response-structure" title="Link to this heading">¶</a></h2>
<p>Both <code class="docutils literal notranslate"><span class="pre">chat()</span></code> and <code class="docutils literal notranslate"><span class="pre">stream()</span></code> methods return responses with this structure:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;llm_response&quot;</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">dict</span> <span class="o">|</span> <span class="n">Any</span><span class="p">,</span>  <span class="c1"># The actual response content</span>
    <span class="s2">&quot;usage&quot;</span><span class="p">:</span> <span class="p">{</span>                         <span class="c1"># Token usage information</span>
        <span class="s2">&quot;prompt_tokens&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
        <span class="s2">&quot;completion_tokens&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
        <span class="s2">&quot;total_tokens&quot;</span><span class="p">:</span> <span class="nb">int</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<dl class="simple">
<dt><strong>llm_response Field</strong></dt><dd><ul class="simple">
<li><p><strong>String</strong>: Plain text response for simple queries</p></li>
<li><p><strong>Dictionary</strong>: Structured data when <code class="docutils literal notranslate"><span class="pre">structure_type</span></code> is provided</p></li>
<li><p><strong>Any</strong>: Custom format depending on the specific client implementation</p></li>
</ul>
</dd>
<dt><strong>usage Field</strong></dt><dd><p>Token consumption data for cost tracking and rate limiting. May be <code class="docutils literal notranslate"><span class="pre">None</span></code> if the provider doesn’t support usage tracking.</p>
</dd>
</dl>
</section>
<section id="chat-vs-stream-methods">
<h2>Chat vs Stream Methods<a class="headerlink" href="#chat-vs-stream-methods" title="Link to this heading">¶</a></h2>
<dl class="simple">
<dt><strong>Chat Method</strong> (<code class="docutils literal notranslate"><span class="pre">await</span> <span class="pre">client.chat(input)</span></code>)</dt><dd><ul class="simple">
<li><p>Returns complete response after full processing</p></li>
<li><p>Suitable for batch processing and when you need the complete result</p></li>
<li><p>Function calls are processed in sequence before returning</p></li>
<li><p>Easier to handle programmatically</p></li>
</ul>
</dd>
<dt><strong>Stream Method</strong> (<code class="docutils literal notranslate"><span class="pre">async</span> <span class="pre">for</span> <span class="pre">chunk</span> <span class="pre">in</span> <span class="pre">client.stream(input)</span></code>)</dt><dd><ul class="simple">
<li><p>Yields response chunks as they arrive from the provider</p></li>
<li><p>Suitable for real-time user interfaces and long responses</p></li>
<li><p>Function calls execute immediately when detected</p></li>
<li><p>Better user experience for interactive applications</p></li>
</ul>
</dd>
</dl>
</section>
<section id="function-calling-architecture">
<h2>Function Calling Architecture<a class="headerlink" href="#function-calling-architecture" title="Link to this heading">¶</a></h2>
<p>The interface supports two types of function calling:</p>
<dl class="simple">
<dt><strong>Regular Functions</strong></dt><dd><p>Execute with full result integration into the conversation flow:</p>
</dd>
</dl>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">calculate</span><span class="p">(</span><span class="n">expression</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Evaluate mathematical expressions.&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="nb">eval</span><span class="p">(</span><span class="n">expression</span><span class="p">)</span>

<span class="n">input_data</span> <span class="o">=</span> <span class="n">ILLMInput</span><span class="p">(</span>
    <span class="n">system_prompt</span><span class="o">=</span><span class="s2">&quot;You are a math assistant&quot;</span><span class="p">,</span>
    <span class="n">user_message</span><span class="o">=</span><span class="s2">&quot;What is 25 * 4?&quot;</span><span class="p">,</span>
    <span class="n">regular_functions</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;calculate&quot;</span><span class="p">:</span> <span class="n">calculate</span><span class="p">}</span>
<span class="p">)</span>
</pre></div>
</div>
<dl class="simple">
<dt><strong>Background Tasks</strong></dt><dd><p>Execute independently without affecting the conversation:</p>
</dd>
</dl>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">log_query</span><span class="p">(</span><span class="n">query</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">user_id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;anonymous&quot;</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Log user queries for analytics.&quot;&quot;&quot;</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Query logged: </span><span class="si">{</span><span class="n">query</span><span class="si">}</span><span class="s2"> from </span><span class="si">{</span><span class="n">user_id</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="n">input_data</span> <span class="o">=</span> <span class="n">ILLMInput</span><span class="p">(</span>
    <span class="n">system_prompt</span><span class="o">=</span><span class="s2">&quot;You are a helpful assistant&quot;</span><span class="p">,</span>
    <span class="n">user_message</span><span class="o">=</span><span class="s2">&quot;Hello!&quot;</span><span class="p">,</span>
    <span class="n">background_tasks</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;log_query&quot;</span><span class="p">:</span> <span class="n">log_query</span><span class="p">}</span>
<span class="p">)</span>
</pre></div>
</div>
</section>
<section id="structured-output-support">
<h2>Structured Output Support<a class="headerlink" href="#structured-output-support" title="Link to this heading">¶</a></h2>
<p>When <code class="docutils literal notranslate"><span class="pre">structure_type</span></code> is provided, the LLM returns structured data:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">pydantic</span><span class="w"> </span><span class="kn">import</span> <span class="n">BaseModel</span><span class="p">,</span> <span class="n">Field</span>

<span class="k">class</span><span class="w"> </span><span class="nc">TaskAnalysis</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="n">task_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;Type of task identified&quot;</span><span class="p">)</span>
    <span class="n">priority</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;Priority level 1-5&quot;</span><span class="p">)</span>
    <span class="n">estimated_time</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;Estimated minutes&quot;</span><span class="p">)</span>
    <span class="n">dependencies</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;Required dependencies&quot;</span><span class="p">)</span>

<span class="n">input_data</span> <span class="o">=</span> <span class="n">ILLMInput</span><span class="p">(</span>
    <span class="n">system_prompt</span><span class="o">=</span><span class="s2">&quot;Analyze project tasks&quot;</span><span class="p">,</span>
    <span class="n">user_message</span><span class="o">=</span><span class="s2">&quot;Set up CI/CD pipeline for the web app&quot;</span><span class="p">,</span>
    <span class="n">structure_type</span><span class="o">=</span><span class="n">TaskAnalysis</span>
<span class="p">)</span>

<span class="n">response</span> <span class="o">=</span> <span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">chat</span><span class="p">(</span><span class="n">input_data</span><span class="p">)</span>
<span class="n">task_analysis</span> <span class="o">=</span> <span class="n">response</span><span class="p">[</span><span class="s2">&quot;llm_response&quot;</span><span class="p">]</span>  <span class="c1"># Returns TaskAnalysis instance</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Task: </span><span class="si">{</span><span class="n">task_analysis</span><span class="o">.</span><span class="n">task_type</span><span class="si">}</span><span class="s2">, Priority: </span><span class="si">{</span><span class="n">task_analysis</span><span class="o">.</span><span class="n">priority</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="configuration-interface">
<h2>Configuration Interface<a class="headerlink" href="#configuration-interface" title="Link to this heading">¶</a></h2>
<p>All clients use <code class="docutils literal notranslate"><span class="pre">ILLMConfig</span></code> for configuration:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">ILLMConfig</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Configuration for LLM clients.&quot;&quot;&quot;</span>

    <span class="n">model</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">temperature</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.7</span>
    <span class="n">max_tokens</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">top_p</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">1.0</span>
    <span class="n">frequency_penalty</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.0</span>
    <span class="n">presence_penalty</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.0</span>
</pre></div>
</div>
<dl class="simple">
<dt><strong>model</strong></dt><dd><p>The specific model to use (provider-specific naming)</p>
</dd>
<dt><strong>temperature</strong></dt><dd><p>Creativity level (0.0 = deterministic, 1.0 = very creative)</p>
</dd>
<dt><strong>max_tokens</strong></dt><dd><p>Maximum response length in tokens</p>
</dd>
<dt><strong>top_p, frequency_penalty, presence_penalty</strong></dt><dd><p>Advanced parameters for fine-tuning response characteristics</p>
</dd>
</dl>
</section>
<section id="error-handling-contract">
<h2>Error Handling Contract<a class="headerlink" href="#error-handling-contract" title="Link to this heading">¶</a></h2>
<p>All implementations should handle these error scenarios:</p>
<dl class="simple">
<dt><strong>Rate Limiting</strong></dt><dd><p>Implement retry logic with exponential backoff for HTTP 429 errors.</p>
</dd>
<dt><strong>Invalid Function Calls</strong></dt><dd><p>Gracefully handle when LLM calls non-existent functions or provides invalid arguments.</p>
</dd>
<dt><strong>Network Errors</strong></dt><dd><p>Provide meaningful error messages for connection issues.</p>
</dd>
<dt><strong>Provider Errors</strong></dt><dd><p>Translate provider-specific errors into consistent error types.</p>
</dd>
<dt><strong>Configuration Errors</strong></dt><dd><p>Validate configuration at client creation time.</p>
</dd>
</dl>
</section>
<section id="implementation-guidelines">
<h2>Implementation Guidelines<a class="headerlink" href="#implementation-guidelines" title="Link to this heading">¶</a></h2>
<p>When implementing new LLM clients:</p>
<ol class="arabic simple">
<li><p><strong>Follow the Interface Contract</strong>
Implement both <code class="docutils literal notranslate"><span class="pre">chat()</span></code> and <code class="docutils literal notranslate"><span class="pre">stream()</span></code> methods with identical functionality.</p></li>
<li><p><strong>Handle All Input Fields</strong>
Support all <code class="docutils literal notranslate"><span class="pre">ILLMInput</span></code> fields, even if some features aren’t available for your provider.</p></li>
<li><p><strong>Maintain Response Consistency</strong>
Return responses in the standard format across both methods.</p></li>
<li><p><strong>Implement Defensive Programming</strong>
Handle edge cases gracefully and provide meaningful error messages.</p></li>
<li><p><strong>Test Thoroughly</strong>
Use the standard test suite to ensure compatibility with the framework.</p></li>
</ol>
</section>
<section id="usage-patterns">
<h2>Usage Patterns<a class="headerlink" href="#usage-patterns" title="Link to this heading">¶</a></h2>
<p><strong>Simple Query</strong>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">input_data</span> <span class="o">=</span> <span class="n">ILLMInput</span><span class="p">(</span>
    <span class="n">system_prompt</span><span class="o">=</span><span class="s2">&quot;You are a helpful assistant&quot;</span><span class="p">,</span>
    <span class="n">user_message</span><span class="o">=</span><span class="s2">&quot;Explain quantum computing in simple terms&quot;</span>
<span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">chat</span><span class="p">(</span><span class="n">input_data</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Interactive Streaming</strong>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">async</span> <span class="k">for</span> <span class="n">chunk</span> <span class="ow">in</span> <span class="n">client</span><span class="o">.</span><span class="n">stream</span><span class="p">(</span><span class="n">input_data</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">chunk</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;llm_response&quot;</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">chunk</span><span class="p">[</span><span class="s2">&quot;llm_response&quot;</span><span class="p">],</span> <span class="n">end</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">flush</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Tool-Enabled Assistant</strong>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">get_weather</span><span class="p">(</span><span class="n">city</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;Weather in </span><span class="si">{</span><span class="n">city</span><span class="si">}</span><span class="s2">: Sunny, 22°C&quot;</span>

<span class="k">def</span><span class="w"> </span><span class="nf">save_note</span><span class="p">(</span><span class="n">content</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">category</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;general&quot;</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Saved note: </span><span class="si">{</span><span class="n">content</span><span class="si">}</span><span class="s2"> (category: </span><span class="si">{</span><span class="n">category</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>

<span class="n">input_data</span> <span class="o">=</span> <span class="n">ILLMInput</span><span class="p">(</span>
    <span class="n">system_prompt</span><span class="o">=</span><span class="s2">&quot;You can check weather and save notes&quot;</span><span class="p">,</span>
    <span class="n">user_message</span><span class="o">=</span><span class="s2">&quot;What&#39;s the weather in Tokyo? Also save a note about planning a trip there.&quot;</span><span class="p">,</span>
    <span class="n">regular_functions</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;get_weather&quot;</span><span class="p">:</span> <span class="n">get_weather</span><span class="p">},</span>
    <span class="n">background_tasks</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;save_note&quot;</span><span class="p">:</span> <span class="n">save_note</span><span class="p">}</span>
<span class="p">)</span>
</pre></div>
</div>
<p>This interface design ensures that your application code remains provider-agnostic while supporting advanced AI capabilities across all supported language models.</p>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="openai-client.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">OpenAI Client</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="index.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">LLM Clients (Layer 1)</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2024, Nima Nazarian
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">ILLM Interface Overview</a><ul>
<li><a class="reference internal" href="#interface-definition">Interface Definition</a></li>
<li><a class="reference internal" href="#input-structure">Input Structure</a></li>
<li><a class="reference internal" href="#response-structure">Response Structure</a></li>
<li><a class="reference internal" href="#chat-vs-stream-methods">Chat vs Stream Methods</a></li>
<li><a class="reference internal" href="#function-calling-architecture">Function Calling Architecture</a></li>
<li><a class="reference internal" href="#structured-output-support">Structured Output Support</a></li>
<li><a class="reference internal" href="#configuration-interface">Configuration Interface</a></li>
<li><a class="reference internal" href="#error-handling-contract">Error Handling Contract</a></li>
<li><a class="reference internal" href="#implementation-guidelines">Implementation Guidelines</a></li>
<li><a class="reference internal" href="#usage-patterns">Usage Patterns</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="../../_static/documentation_options.js?v=95e61db4"></script>
    <script src="../../_static/doctools.js?v=9bcbadda"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/scripts/furo.js?v=46bd48cc"></script>
    <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../../_static/copybutton.js?v=30646c52"></script>
    </body>
</html>